/* recipe-list-item.js
    
    Recipe list item component.
*/

// Dependencies.
const { Component } = require("react");

/* Recipe component.
*/
class RecipeListItem extends Component {
    //
    // STATIC PROPERTIES
    //
    
    //
    // PROPERTIES
    //
    
    //
    // STATIC METHODS
    //
    
    //
    // METHODS
    //
    
    /* Changes the selected recipe to this recipe component.
    */
    selectRecipe() {
        ipc.send("select-recipe", this.props.id);
    }
    
    /* List item click handler.
        
        e - Click event.
    */
    onClick = (e) => {
        e.preventDefault();
        e.stopPropagation();
        
        this.selectRecipe();
    };
    
    /* Print button click handler.
        
        e - Click event.
    */
    onPrint = (e) => {
        e.preventDefault();
        e.stopPropagation();
        
        this.selectRecipe();
        ipc.send("print-recipe");
    };
    
    /* Renders the recipe.
    */
    render() {
        let classes = [ "row" ];
        
        if (this.props.selected) {
            classes.push("selected");
        }
        
        return (
            <li
                className={classes.join(" ")}
                onClick={this.onClick}
            >
                <div className="name col-7">
                    <span className="name">{this.props.name}</span>
                </div>
                
                <div className="controls col-5">
                    
                    <div
                        className="print"
                        onClick={this.onPrint}
                    >
                        <i className="fas fa-print"></i>
                    </div>
                    
                    <div className="delete">
                        <i className="fas fa-times"></i>
                    </div>
                    
                    <div className="move">
                        <i className="fas fa-sort"></i>
                    </div>
                    
                </div>
            </li>
        );
    }
}

module.exports = RecipeListItem;
